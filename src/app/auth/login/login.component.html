<div class="flex justify-center items-center min-h-screen bg-gray-100 p-5">
  <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-sm">
    <div class="flex justify-center">
       <img [src]="logo" alt="TuCaja Logo" class="h-24">
       </div>


    <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">Iniciar sesión</h2>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

      <div class="mb-4">
        <label for="email" class="block text-gray-700 text-sm font-semibold mb-2">Email:</label>
        <input type="email" id="email" formControlName="email"
               class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
               [ngClass]="{'border-red-500': formControls['email'].invalid && (formControls['email'].touched || formControls['email'].dirty)}">
         <p *ngIf="formControls['email'].invalid && (formControls['email'].touched || formControls['email'].dirty)" class="text-red-500 text-xs italic mt-1">
           <span *ngIf="formControls['email'].errors?.['required']">El email es requerido.</span>
           <span *ngIf="formControls['email'].errors?.['email']">Formato de email inválido.</span>
         </p>
      </div>

      <div class="mb-6">
        <label for="password_hash" class="block text-gray-700 text-sm font-semibold mb-2">Contraseña:</label>
        <input type="password_hash" id="password_hash" formControlName="password_hash"
               class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
               [ngClass]="{'border-red-500': formControls['password_hash'].invalid && (formControls['password_hash'].touched || formControls['password'].dirty)}">
        <p *ngIf="formControls['password_hash'].invalid && (formControls['password_hash'].touched || formControls['password_hash'].dirty)" class="text-red-500 text-xs italic mt-1">
          <span *ngIf="formControls['password_hash'].errors?.['required']">La contraseña es requerida.</span>
        </p>
      </div>

      <div *ngIf="authService.authError()" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4">
        {{ authService.authError() }}
      </div>

      <button type="submit" [disabled]="isLoading() || loginForm.invalid"
              class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full">
        <span *ngIf="!isLoading()">Iniciar sesión</span>
        <span *ngIf="isLoading()">Iniciando...</span>
      </button>

       <div class="text-center mt-4">
          <a href="#" class="inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800">
              ¿Olvidaste tu contraseña?
          </a>
      </div>


    </form>

    <div class="text-center mt-4 text-gray-600 text-sm">
      ¿No tienes cuenta? <a [routerLink]="['/register']" class="text-blue-500 hover:text-blue-800">Regístrate aquí</a>
    </div>

  </div> </div>
