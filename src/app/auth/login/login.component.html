<div class="flex justify-center items-center min-h-screen bg-gray-100 p-5">
  <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-sm">
    <div class="flex justify-center">
       <img [src]="logo" alt="TuCaja Logo" class="h-24">
       </div>


    <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">Iniciar sesión</h2>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

      <div class="mb-4">
        <label for="email" class="block text-gray-700 text-sm font-semibold mb-2">Email:</label>
        <input type="email" id="email" formControlName="email"
               class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
               [ngClass]="{'border-red-500': formControls['email'].invalid && (formControls['email'].touched || formControls['email'].dirty)}">
         <p *ngIf="formControls['email'].invalid && (formControls['email'].touched || formControls['email'].dirty)" class="text-red-500 text-xs italic mt-1">
           <span *ngIf="formControls['email'].errors?.['required']">El email es requerido.</span>
           <span *ngIf="formControls['email'].errors?.['email']">Formato de email inválido.</span>
         </p>
      </div>

      <div class="mb-6">
        <label for="password_hash" class="block text-gray-700 text-sm font-semibold mb-2">Contraseña:</label>
        <input type="password_hash" id="password_hash" formControlName="password_hash"
               class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
               [ngClass]="{'border-red-500': formControls['password_hash'].invalid && (formControls['password_hash'].touched || formControls['password_hash'].dirty)}">
        <p *ngIf="formControls['password_hash'].invalid && (formControls['password_hash'].touched )" class="text-red-500 text-xs italic mt-1">
          <span *ngIf="formControls['password_hash'].errors?.['required']">La contraseña es requerida.</span>
        </p>
      </div>

      <div *ngIf="authError()" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4">
        {{ authError() }}
      </div>


      <button type="submit" [disabled]="isLoading() || loginForm.invalid"
              class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full mb-1">
        @if(!isLoading()){
          <span>Iniciar sesión</span>
        }@else{
          <span>Iniciando...</span>
        }
      </button>

      <button (click)="loginWithGoogle()"
      class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full flex items-center justify-center">
  <svg class="w-5 h-5 mr-2" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill="#000" d="M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.6-6.6C38 4.5 31.1 1 24 1 10.8 1 0 11.8 0 25s10.8 24 24 24c12.9 0 23.2-9.2 24.5-22H44.5z"/>
      <path fill="#FF3C00" d="M44.5 20H24v8.5h11.8c-.7 4.5-5.2 7.6-11.8 7.6-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.6-6.6C38 4.5 31.1 1 24 1c-13.2 0-24 10.8-24 24s10.8 24 24 24c12.9 0 23.2-9.2 24.5-22H44.5z"/>
      <path fill="#FFBA00" d="M24 45c6.3 0 11.6-2.3 15.1-6.1L32.6 32c-2.1 1.4-4.7 2.3-8.6 2.3-4.8 0-8.9-2-10.9-4.9l-7.3 5.5C8.3 42.5 15.8 45 24 45z"/>
      <path fill="#009944" d="M24 35c4.3 0 8.1-1.4 10.9-3.9L39.1 37c-3.5 3.8-8.8 6.1-15.1 6.1-8.2 0-15.7-2.5-21.1-6.8l7.3-5.5c2 3 6.1 4.9 10.9 4.9z"/>
      <path fill="#3F51B5" d="M44.5 20H24v8.5h11.8c-.7 4.5-5.2 7.6-11.8 7.6-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.6-6.6C38 4.5 31.1 1 24 1c-13.2 0-24 10.8-24 24s10.8 24 24 24c12.9 0 23.2-9.2 24.5-22H44.5z"/>
      <path fill="#4285F4" d="M24 24c0-3.6 1.5-6.9 3.9-9.3L24 11c-6.6 0-12 5.4-12 12s5.4 12 12 12 12-5.4 12-12h-4.5c0 4.4-3.6 7.9-7.9 7.9-4.4 0-7.9-3.6-7.9-7.9s3.6-7.9 7.9-7.9c2.3 0 4.4.9 5.9 2.4l3.5-3.5C30.9 12.6 28 11 24 11c-6.6 0-12 5.4-12 12s5.4 12 12 12 12-5.4 12-12h-4.5z"/>
  </svg>
  Iniciar sesión con Google
</button>

       <div class="text-center mt-4">
          <a href="#" class="inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800">
              ¿Olvidaste tu contraseña?
          </a>
      </div>


    </form>

    <div class="text-center mt-4 text-gray-600 text-sm">
      ¿No tienes cuenta? <a [routerLink]="['/register']" class="text-blue-500 hover:text-blue-800">Regístrate aquí</a>
    </div>

  </div> </div>
